<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­£æ–¹å½¢å›¾ç‰‡è£å‰ª - åœ¨çº¿1:1å›¾ç‰‡åˆ¶ä½œ</title>
    <meta name="description" content="å…è´¹åœ¨çº¿æ­£æ–¹å½¢å›¾ç‰‡åˆ¶ä½œå·¥å…·ï¼Œå¿«é€Ÿå°†å›¾ç‰‡è£å‰ªä¸º1:1æ¯”ä¾‹ï¼Œé€‚åˆç¤¾äº¤åª’ä½“å¤´åƒã€‚">
    <meta name="keywords" content="æ­£æ–¹å½¢å›¾ç‰‡,1:1è£å‰ª,å¤´åƒåˆ¶ä½œ,å›¾ç‰‡è£å‰ª">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, 'PingFang SC', sans-serif; background: linear-gradient(135deg, #667eea, #764ba2); min-height: 100vh; padding: 20px; display: flex; align-items: center; justify-content: center; }
        .container { background: white; border-radius: 20px; padding: 30px; max-width: 500px; width: 100%; }
        h1 { text-align: center; margin-bottom: 20px; color: #333; }
        .upload-area { border: 3px dashed #ddd; border-radius: 15px; padding: 40px; text-align: center; cursor: pointer; margin-bottom: 20px; }
        .preview { text-align: center; margin: 20px 0; }
        .preview canvas { max-width: 100%; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .options { display: flex; gap: 10px; margin-bottom: 20px; justify-content: center; }
        .option { padding: 10px 20px; background: #f0f0f0; border: none; border-radius: 20px; cursor: pointer; }
        .option.active { background: #667eea; color: white; }
        button { width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; border-radius: 10px; font-size: 1.1rem; cursor: pointer; }
        input[type="file"] { display: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>â¬› æ­£æ–¹å½¢å›¾ç‰‡</h1>
        <div class="upload-area" onclick="document.getElementById('file').click()">
            <p style="font-size:2rem;margin-bottom:10px">ğŸ“·</p>
            <p>ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡</p>
        </div>
        <input type="file" id="file" accept="image/*" onchange="load(this)">
        <div class="options">
            <button class="option active" onclick="setMode('cover')">è£å‰ªå¡«å……</button>
            <button class="option" onclick="setMode('contain')">ç•™ç™½é€‚åº”</button>
        </div>
        <div class="preview"><canvas id="canvas" width="400" height="400"></canvas></div>
        <button onclick="download()">ä¸‹è½½å›¾ç‰‡</button>
    </div>
    <script>
        let img = null, mode = 'cover';
        function load(input) { if(!input.files[0]) return; img = new Image(); img.onload = render; img.src = URL.createObjectURL(input.files[0]); }
        function setMode(m) { mode = m; document.querySelectorAll('.option').forEach((o,i) => o.classList.toggle('active', i === (m==='cover'?0:1))); render(); }
        function render() {
            if (!img) return;
            const canvas = document.getElementById('canvas'), ctx = canvas.getContext('2d'), size = 400;
            ctx.fillStyle = '#fff'; ctx.fillRect(0,0,size,size);
            if (mode === 'cover') {
                const scale = Math.max(size/img.width, size/img.height);
                const w = img.width*scale, h = img.height*scale;
                ctx.drawImage(img, (size-w)/2, (size-h)/2, w, h);
            } else {
                const scale = Math.min(size/img.width, size/img.height);
                const w = img.width*scale, h = img.height*scale;
                ctx.drawImage(img, (size-w)/2, (size-h)/2, w, h);
            }
        }
        function download() { const a = document.createElement('a'); a.href = document.getElementById('canvas').toDataURL('image/png'); a.download = 'square.png'; a.click(); }
    </script>
</body>
</html>
