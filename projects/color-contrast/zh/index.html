<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¢œè‰²å¯¹æ¯”åº¦æ£€æµ‹ - WCAGæ— éšœç¢æ£€æŸ¥å·¥å…·</title>
    <meta name="description" content="å…è´¹åœ¨çº¿é¢œè‰²å¯¹æ¯”åº¦æ£€æµ‹å·¥å…·ï¼Œæ£€æŸ¥å‰æ™¯å’ŒèƒŒæ™¯é¢œè‰²æ˜¯å¦ç¬¦åˆWCAGæ— éšœç¢æ ‡å‡†ã€‚">
    <meta name="keywords" content="é¢œè‰²å¯¹æ¯”åº¦,WCAG,æ— éšœç¢è®¾è®¡,å¯¹æ¯”åº¦æ£€æŸ¥,ç½‘é¡µå¯è®¿é—®æ€§">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, 'PingFang SC', sans-serif; background: #f5f5f5; min-height: 100vh; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 30px; color: #333; }
        .preview { padding: 60px 40px; border-radius: 16px; text-align: center; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .preview h2 { font-size: 2.5rem; margin-bottom: 15px; }
        .preview p { font-size: 1.1rem; max-width: 500px; margin: 0 auto; }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .color-picker { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .color-picker label { display: block; margin-bottom: 10px; font-weight: 600; color: #555; }
        .color-picker input[type="color"] { width: 100%; height: 50px; border: none; cursor: pointer; border-radius: 8px; }
        .color-picker input[type="text"] { width: 100%; padding: 10px; border: 2px solid #eee; border-radius: 8px; margin-top: 10px; font-family: monospace; }
        .ratio-display { background: white; padding: 30px; border-radius: 16px; text-align: center; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .ratio { font-size: 4rem; font-weight: 700; margin-bottom: 20px; }
        .wcag-results { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px; }
        .wcag-item { padding: 15px; border-radius: 8px; text-align: center; }
        .wcag-item.pass { background: #d4edda; color: #155724; }
        .wcag-item.fail { background: #f8d7da; color: #721c24; }
        .wcag-item .level { font-weight: 700; font-size: 1.1rem; }
        .wcag-item .desc { font-size: 0.85rem; margin-top: 5px; opacity: 0.8; }
        .swap-btn { display: block; margin: 0 auto 20px; padding: 10px 25px; background: #667eea; color: white; border: none; border-radius: 25px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ é¢œè‰²å¯¹æ¯”åº¦æ£€æµ‹</h1>
        <div class="preview" id="preview"><h2>ç¤ºä¾‹æ–‡å­—</h2><p>æ•æ·çš„æ£•è‰²ç‹ç‹¸è·³è¿‡æ‡’ç‹—ã€‚æ£€æŸ¥è¿™æ®µæ–‡å­—æ˜¯å¦å¯è¯»ï¼</p></div>
        <button class="swap-btn" onclick="swapColors()">â‡„ äº¤æ¢é¢œè‰²</button>
        <div class="controls">
            <div class="color-picker"><label>å‰æ™¯è‰²ï¼ˆæ–‡å­—ï¼‰</label><input type="color" id="fg" value="#000000" oninput="updateFromPicker('fg')"><input type="text" id="fgHex" value="#000000" oninput="updateFromHex('fg')"></div>
            <div class="color-picker"><label>èƒŒæ™¯è‰²</label><input type="color" id="bg" value="#ffffff" oninput="updateFromPicker('bg')"><input type="text" id="bgHex" value="#ffffff" oninput="updateFromHex('bg')"></div>
        </div>
        <div class="ratio-display"><div class="ratio" id="ratio">21:1</div><div class="wcag-results" id="results"></div></div>
    </div>
    <script>
        function getLum(hex) { const rgb = hexToRgb(hex).map(c => { c = c/255; return c <= 0.03928 ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4); }); return 0.2126*rgb[0] + 0.7152*rgb[1] + 0.0722*rgb[2]; }
        function hexToRgb(hex) { hex = hex.replace('#',''); if(hex.length===3) hex = hex.split('').map(c=>c+c).join(''); return [parseInt(hex.substr(0,2),16), parseInt(hex.substr(2,2),16), parseInt(hex.substr(4,2),16)]; }
        function getContrast(fg, bg) { const l1 = getLum(fg), l2 = getLum(bg); return (Math.max(l1,l2)+0.05)/(Math.min(l1,l2)+0.05); }
        function update() {
            const fg = document.getElementById('fg').value, bg = document.getElementById('bg').value, ratio = getContrast(fg, bg);
            document.getElementById('preview').style.color = fg; document.getElementById('preview').style.backgroundColor = bg;
            document.getElementById('ratio').textContent = ratio.toFixed(2) + ':1';
            document.getElementById('results').innerHTML = `
                <div class="wcag-item ${ratio>=4.5?'pass':'fail'}"><div class="level">${ratio>=4.5?'âœ“':'âœ—'} AA æ­£å¸¸æ–‡å­—</div><div class="desc">éœ€è¦ 4.5:1</div></div>
                <div class="wcag-item ${ratio>=3?'pass':'fail'}"><div class="level">${ratio>=3?'âœ“':'âœ—'} AA å¤§æ–‡å­—</div><div class="desc">éœ€è¦ 3:1</div></div>
                <div class="wcag-item ${ratio>=7?'pass':'fail'}"><div class="level">${ratio>=7?'âœ“':'âœ—'} AAA æ­£å¸¸æ–‡å­—</div><div class="desc">éœ€è¦ 7:1</div></div>
                <div class="wcag-item ${ratio>=4.5?'pass':'fail'}"><div class="level">${ratio>=4.5?'âœ“':'âœ—'} AAA å¤§æ–‡å­—</div><div class="desc">éœ€è¦ 4.5:1</div></div>`;
        }
        function updateFromPicker(w) { document.getElementById(w+'Hex').value = document.getElementById(w).value; update(); }
        function updateFromHex(w) { let v = document.getElementById(w+'Hex').value; if(!v.startsWith('#')) v = '#'+v; if(/^#[0-9A-Fa-f]{6}$/.test(v)||/^#[0-9A-Fa-f]{3}$/.test(v)) { document.getElementById(w).value = v.length===4 ? '#'+v[1]+v[1]+v[2]+v[2]+v[3]+v[3] : v; update(); } }
        function swapColors() { const fg = document.getElementById('fg').value, bg = document.getElementById('bg').value; document.getElementById('fg').value = bg; document.getElementById('bg').value = fg; document.getElementById('fgHex').value = bg; document.getElementById('bgHex').value = fg; update(); }
        update();
    </script>
</body>
</html>
