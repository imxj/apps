<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å±å¹•å°ºå­ - åœ¨çº¿åƒç´ æµ‹é‡å·¥å…·</title>
    <meta name="description" content="å…è´¹åœ¨çº¿å±å¹•åƒç´ æµ‹é‡å·¥å…·ï¼Œæ‹–æ‹½æµ‹é‡å±å¹•ä¸Šä»»æ„åŒºåŸŸçš„åƒç´ å°ºå¯¸ã€‚è®¾è®¡å¼€å‘å¿…å¤‡ã€‚">
    <meta name="keywords" content="å±å¹•å°ºå­,åƒç´ æµ‹é‡,åœ¨çº¿å°ºå­,å±å¹•æµ‹é‡,åƒç´ å°º">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, 'PingFang SC', sans-serif; background: #1a1a2e; color: white; min-height: 100vh; }
        .toolbar { position: fixed; top: 0; left: 0; right: 0; background: #16213e; padding: 15px 20px; display: flex; align-items: center; gap: 20px; z-index: 1000; }
        .toolbar h1 { font-size: 1.2rem; }
        .measurement { background: #0f3460; padding: 10px 20px; border-radius: 8px; font-family: monospace; }
        .measurement span { color: #00ff88; font-weight: 700; }
        .color-picker { display: flex; align-items: center; gap: 10px; }
        .color-picker input { width: 40px; height: 40px; border: none; border-radius: 8px; cursor: pointer; }
        .canvas-area { padding-top: 70px; height: 100vh; position: relative; cursor: crosshair; }
        .ruler { position: absolute; border: 2px dashed #00ff88; background: rgba(0,255,136,0.1); pointer-events: none; }
        .ruler-label { position: absolute; background: #00ff88; color: #1a1a2e; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 700; }
        .guide-h, .guide-v { position: absolute; background: rgba(255,255,255,0.2); }
        .guide-h { height: 1px; left: 0; right: 0; }
        .guide-v { width: 1px; top: 70px; bottom: 0; }
        .instructions { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); text-align: center; opacity: 0.5; }
    </style>
</head>
<body>
    <div class="toolbar">
        <h1>ğŸ“ å±å¹•å°ºå­</h1>
        <div class="measurement">å®½: <span id="width">0</span>px | é«˜: <span id="height">0</span>px | å¯¹è§’çº¿: <span id="diagonal">0</span>px</div>
        <div class="color-picker"><label>é¢œè‰²:</label><input type="color" id="rulerColor" value="#00ff88" onchange="updateColor()"></div>
    </div>
    <div class="canvas-area" id="canvas">
        <div class="instructions" id="instructions"><p>ğŸ–±ï¸ ç‚¹å‡»æ‹–åŠ¨æµ‹é‡</p><p>æŒ‰ä½ Shift æ­£æ–¹å½¢é€‰åŒº</p></div>
        <div class="guide-h" id="guideH"></div><div class="guide-v" id="guideV"></div>
        <div class="ruler" id="ruler" style="display:none"><div class="ruler-label" id="rulerLabel"></div></div>
    </div>
    <script>
        const canvas = document.getElementById('canvas'), ruler = document.getElementById('ruler'), rulerLabel = document.getElementById('rulerLabel');
        let isDrawing = false, startX, startY;
        canvas.addEventListener('mousedown', e => { isDrawing = true; startX = e.clientX; startY = e.clientY; ruler.style.display = 'block'; document.getElementById('instructions').style.display = 'none'; });
        canvas.addEventListener('mousemove', e => {
            document.getElementById('guideH').style.top = e.clientY + 'px';
            document.getElementById('guideV').style.left = e.clientX + 'px';
            if (!isDrawing) return;
            let w = e.clientX - startX, h = e.clientY - startY;
            if (e.shiftKey) { const s = Math.max(Math.abs(w),Math.abs(h)); w = w<0?-s:s; h = h<0?-s:s; }
            ruler.style.left = (w<0?startX+w:startX)+'px'; ruler.style.top = (h<0?startY+h:startY)+'px';
            ruler.style.width = Math.abs(w)+'px'; ruler.style.height = Math.abs(h)+'px';
            const aw = Math.abs(w), ah = Math.abs(h);
            document.getElementById('width').textContent = aw;
            document.getElementById('height').textContent = ah;
            document.getElementById('diagonal').textContent = Math.sqrt(aw*aw+ah*ah).toFixed(1);
            rulerLabel.textContent = `${aw} Ã— ${ah}`; rulerLabel.style.left = '50%'; rulerLabel.style.top = '50%'; rulerLabel.style.transform = 'translate(-50%,-50%)';
        });
        document.addEventListener('mouseup', () => { isDrawing = false; });
        function updateColor() { const c = document.getElementById('rulerColor').value; ruler.style.borderColor = c; ruler.style.backgroundColor = c+'1a'; rulerLabel.style.backgroundColor = c; }
    </script>
</body>
</html>
