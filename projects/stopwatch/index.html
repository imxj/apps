<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stopwatch - Online Timer with Lap Times</title>
    <meta name="description" content="Free online stopwatch with lap times. Precise timing for sports, workouts, and productivity.">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #111;
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .display {
            font-size: 6rem;
            font-weight: 200;
            font-family: 'SF Mono', Monaco, monospace;
            margin-bottom: 40px;
            letter-spacing: -3px;
        }
        .ms { font-size: 3rem; color: #666; }
        .controls { display: flex; gap: 20px; margin-bottom: 30px; }
        button {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        .start { border-color: #00ff88; background: rgba(0,255,136,0.1); color: #00ff88; }
        .start:hover { background: rgba(0,255,136,0.2); }
        .stop { border-color: #ff4444; background: rgba(255,68,68,0.1); color: #ff4444; }
        .stop:hover { background: rgba(255,68,68,0.2); }
        .lap { border-color: #666; background: rgba(102,102,102,0.1); color: #888; }
        .lap:hover { background: rgba(102,102,102,0.2); }
        .reset { border-color: #666; background: rgba(102,102,102,0.1); color: #888; }
        .laps {
            width: 100%;
            max-width: 400px;
            max-height: 300px;
            overflow-y: auto;
        }
        .lap-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 20px;
            border-bottom: 1px solid #222;
        }
        .lap-item:first-child { color: #00ff88; }
        .lap-item:last-child { color: #ff4444; }
        .lap-num { color: #666; }
        .lap-time { font-family: monospace; }
    </style>
</head>
<body>
    <div class="display" id="display">00:00<span class="ms">.00</span></div>
    <div class="controls">
        <button class="lap" id="lapBtn" onclick="lap()">Lap</button>
        <button class="start" id="startBtn" onclick="toggle()">Start</button>
        <button class="reset" onclick="reset()">Reset</button>
    </div>
    <div class="laps" id="laps"></div>
    <script>
        let startTime = 0, elapsed = 0, interval = null, running = false, laps = [], lastLap = 0;
        
        function format(ms) {
            const mins = Math.floor(ms / 60000);
            const secs = Math.floor((ms % 60000) / 1000);
            const cents = Math.floor((ms % 1000) / 10);
            return `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}<span class="ms">.${cents.toString().padStart(2,'0')}</span>`;
        }
        
        function update() {
            elapsed = Date.now() - startTime;
            document.getElementById('display').innerHTML = format(elapsed);
        }
        
        function toggle() {
            const btn = document.getElementById('startBtn');
            if (running) {
                clearInterval(interval);
                btn.textContent = 'Resume';
                btn.className = 'start';
            } else {
                startTime = Date.now() - elapsed;
                interval = setInterval(update, 10);
                btn.textContent = 'Stop';
                btn.className = 'stop';
            }
            running = !running;
        }
        
        function lap() {
            if (!running) return;
            const lapTime = elapsed - lastLap;
            lastLap = elapsed;
            laps.unshift({ num: laps.length + 1, time: lapTime, total: elapsed });
            renderLaps();
        }
        
        function renderLaps() {
            const el = document.getElementById('laps');
            el.innerHTML = laps.map(l => `
                <div class="lap-item">
                    <span class="lap-num">Lap ${l.num}</span>
                    <span class="lap-time">+${formatSimple(l.time)}</span>
                    <span class="lap-time">${formatSimple(l.total)}</span>
                </div>
            `).join('');
        }
        
        function formatSimple(ms) {
            const mins = Math.floor(ms / 60000);
            const secs = Math.floor((ms % 60000) / 1000);
            const cents = Math.floor((ms % 1000) / 10);
            return `${mins}:${secs.toString().padStart(2,'0')}.${cents.toString().padStart(2,'0')}`;
        }
        
        function reset() {
            clearInterval(interval);
            running = false;
            elapsed = 0;
            lastLap = 0;
            laps = [];
            document.getElementById('display').innerHTML = format(0);
            document.getElementById('startBtn').textContent = 'Start';
            document.getElementById('startBtn').className = 'start';
            document.getElementById('laps').innerHTML = '';
        }
    </script>
</body>
</html>
