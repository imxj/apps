<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡æœ¬å¯¹æ¯”å·¥å…· - åœ¨çº¿æ¯”è¾ƒæ–‡å­—å·®å¼‚</title>
    <meta name="description" content="å…è´¹åœ¨çº¿æ–‡æœ¬å¯¹æ¯”å·¥å…·ï¼Œå¿«é€Ÿæ¯”è¾ƒä¸¤æ®µæ–‡å­—çš„å·®å¼‚ï¼Œé«˜äº®æ˜¾ç¤ºå¢åŠ å’Œåˆ é™¤çš„å†…å®¹ã€‚">
    <meta name="keywords" content="æ–‡æœ¬å¯¹æ¯”,æ–‡å­—æ¯”è¾ƒ,å·®å¼‚å¯¹æ¯”,åœ¨çº¿å¯¹æ¯”,æ–‡æœ¬å·®å¼‚">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, 'PingFang SC', sans-serif; background: #1a1a2e; color: #eee; min-height: 100vh; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { text-align: center; margin-bottom: 20px; color: #4facfe; }
        .inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .input-group label { display: block; margin-bottom: 8px; color: #aaa; }
        textarea { width: 100%; height: 200px; padding: 15px; border: 2px solid #333; border-radius: 8px; background: #16213e; color: #eee; font-family: monospace; font-size: 14px; resize: vertical; }
        textarea:focus { outline: none; border-color: #4facfe; }
        .buttons { text-align: center; margin-bottom: 20px; }
        button { padding: 12px 30px; font-size: 1rem; border: none; border-radius: 25px; cursor: pointer; margin: 0 10px; }
        .btn-compare { background: linear-gradient(135deg, #4facfe, #00f2fe); color: #1a1a2e; font-weight: 600; }
        .btn-clear { background: #333; color: #eee; }
        .results { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .result-panel { background: #16213e; border-radius: 8px; padding: 15px; overflow-x: auto; }
        .result-panel h3 { margin-bottom: 10px; color: #888; font-size: 0.9rem; }
        .diff-content { font-family: monospace; font-size: 14px; white-space: pre-wrap; line-height: 1.6; }
        .added { background: rgba(0,255,0,0.2); color: #4ade80; }
        .removed { background: rgba(255,0,0,0.2); color: #f87171; text-decoration: line-through; }
        .stats { text-align: center; margin: 20px 0; color: #888; }
        .stats .add-count { color: #4ade80; }
        .stats .remove-count { color: #f87171; }
        @media (max-width: 768px) { .inputs, .results { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“ æ–‡æœ¬å¯¹æ¯”å·¥å…·</h1>
        <div class="inputs">
            <div class="input-group"><label>åŸå§‹æ–‡æœ¬</label><textarea id="text1" placeholder="ç²˜è´´åŸå§‹æ–‡æœ¬..."></textarea></div>
            <div class="input-group"><label>ä¿®æ”¹åæ–‡æœ¬</label><textarea id="text2" placeholder="ç²˜è´´ä¿®æ”¹åæ–‡æœ¬..."></textarea></div>
        </div>
        <div class="buttons">
            <button class="btn-compare" onclick="compare()">å¯¹æ¯”</button>
            <button class="btn-clear" onclick="clearAll()">æ¸…ç©º</button>
        </div>
        <div class="stats" id="stats"></div>
        <div class="results">
            <div class="result-panel"><h3>åŸå§‹ï¼ˆåˆ é™¤éƒ¨åˆ†ï¼‰</h3><div class="diff-content" id="result1"></div></div>
            <div class="result-panel"><h3>ä¿®æ”¹åï¼ˆæ–°å¢éƒ¨åˆ†ï¼‰</h3><div class="diff-content" id="result2"></div></div>
        </div>
    </div>
    <script>
        function compare() {
            const t1 = document.getElementById('text1').value, t2 = document.getElementById('text2').value;
            const w1 = t1.split(/(\s+)/), w2 = t2.split(/(\s+)/);
            const lcs = getLCS(w1, w2);
            let r1 = '', r2 = '', i = 0, j = 0, k = 0, added = 0, removed = 0;
            while (i < w1.length || j < w2.length) {
                if (k < lcs.length && i < w1.length && w1[i] === lcs[k]) {
                    if (j < w2.length && w2[j] === lcs[k]) { r1 += esc(w1[i]); r2 += esc(w2[j]); i++; j++; k++; }
                    else { r2 += `<span class="added">${esc(w2[j])}</span>`; if(w2[j].trim()) added++; j++; }
                } else if (i < w1.length) { r1 += `<span class="removed">${esc(w1[i])}</span>`; if(w1[i].trim()) removed++; i++; }
                else if (j < w2.length) { r2 += `<span class="added">${esc(w2[j])}</span>`; if(w2[j].trim()) added++; j++; }
            }
            document.getElementById('result1').innerHTML = r1 || '(ç©º)';
            document.getElementById('result2').innerHTML = r2 || '(ç©º)';
            document.getElementById('stats').innerHTML = `<span class="remove-count">âˆ’${removed} åˆ é™¤</span> <span class="add-count">+${added} æ–°å¢</span>`;
        }
        function getLCS(a1, a2) {
            const m = a1.length, n = a2.length, dp = Array(m+1).fill(null).map(() => Array(n+1).fill(0));
            for (let i = 1; i <= m; i++) for (let j = 1; j <= n; j++) dp[i][j] = a1[i-1] === a2[j-1] ? dp[i-1][j-1]+1 : Math.max(dp[i-1][j], dp[i][j-1]);
            const lcs = []; let i = m, j = n;
            while (i > 0 && j > 0) { if (a1[i-1] === a2[j-1]) { lcs.unshift(a1[i-1]); i--; j--; } else if (dp[i-1][j] > dp[i][j-1]) i--; else j--; }
            return lcs;
        }
        function esc(t) { const d = document.createElement('div'); d.textContent = t; return d.innerHTML; }
        function clearAll() { document.getElementById('text1').value = ''; document.getElementById('text2').value = ''; document.getElementById('result1').innerHTML = ''; document.getElementById('result2').innerHTML = ''; document.getElementById('stats').innerHTML = ''; }
    </script>
</body>
</html>
